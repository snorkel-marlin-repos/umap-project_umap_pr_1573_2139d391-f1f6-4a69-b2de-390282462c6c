[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "umap-project"
dynamic = ["version"]
description = "Create maps with OpenStreetMap layers in a minute and embed them in your site."
readme = "README.md"
authors = [
  { name = "Yohan Boniface", email = "yb@enix.org" },
]
maintainers = [
  { name = "David Larlet", email = "david@larlet.fr" },
]
homepage = "https://github.com/umap-project/umap"
keywords = ["django", "leaflet", "geodjango", "openstreetmap", "map"]
requires-python = ">=3.10"
classifiers = [
  "Development Status :: 4 - Beta",
  "Intended Audience :: Developers",
  "Operating System :: OS Independent",
  "Topic :: Software Development :: Libraries :: Python Modules",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
]
dependencies = [
  "Django==5.0.1",
  "django-agnocomplete==2.2.0",
  "django-environ==0.10.0",
  "django-probes==1.7.0",
  "Pillow==10.2.0",
  "psycopg2==2.9.6",
  "requests==2.31.0",
  "rcssmin==1.1.2",
  "rjsmin==1.2.2",
  "social-auth-core==4.4.2",
  "social-auth-app-django==5.2.0",
]

[project.optional-dependencies]
dev = [
  "hatch==1.9.3",
  "ruff==0.2.0",
  "djlint==1.34.1",
  "mkdocs==1.5.3",
  "mkdocs-material==9.5.7",
  "vermin==1.6.0",
  "pymdown-extensions==10.4",
  "isort==5.12",
]
test = [
  "factory-boy==3.2.1",
  "playwright>=1.39",
  "pytest==6.2.5",
  "pytest-django==4.5.2",
  "pytest-playwright==0.4.3",
  "pytest-xdist>=3.5.0,<4",
]
docker = [
  "uwsgi==2.0.23",
]

[tool.hatch.build]
artifacts = [
  # Required because part of .gitignore (and thus excluded by hatch).
  "/umap/static/umap/vendors",
]

[tool.hatch.build.targets.sdist]
include = [
  "/umap",
]

[tool.hatch.build.targets.wheel]
packages = ["umap"]

[project.scripts]
umap = "umap.bin:main"

[tool.hatch.version]
path = "umap/__init__.py"

[tool.flake8]
# Black crazyness.
max-line-length = 88

[tool.djlint]
profile="django"
indent=2
format_css=true
